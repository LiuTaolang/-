### 数组
1. 数组内所有元素在内存中是相连的
2. 每次在数组中插入元素时，如果在连续的内存地址上没有空位置，那么将请求计算机重新分配一块可以储存下整个数组的内存。
3. 预留数组长度可以一定程度上缓解 2.的问题，缺点是：①额外请求的位置可能根本用不上，浪费内存； ② 长度超过预留，又得请求计算机重新分配内存。

### 链表
1. 链表的每个元素都存储了下一个元素的地址，从而使一系列随机的内存地址串在一起。（数组要求连座，链表是分开坐。）
2. 在需要读取链表的最后一个元素时，你不能直接读取，因为你不知道它所处的地址，必须先访问元素#1，从中获取元素#2的地址，再访问元素#2并从中获取元素#3的地址，以此类推，直到访问最后一个元素。
3. 需要随机地读取元素时，数组的效率很高，因为可迅速找到数组的任何元素——只要知道首地址，就能依据索引计算出位置，然后访问。在链表中，元素并非靠在一起的，你无法迅速计算出第五个元素的内存地址，而必须先访问第一个元素以获取第二个元素的地址，再访问第二个元素以获取第三个元素的地址，以此类推，直到访问第五个元素。

### 术语
1. 索引。数组的元素带编号，从 0开始递增。元素的位置称为索引。
2. 常见的数组、链表操作的运行时间

### 练习

2.1 假设你要编写一个记账的应用程序。你每天都将所有的支出记录下来，并在月底统计支出，算算当月花了多少钱。因此，你执行的插入操作很多，但读取操作很少。该使用数组还是链表呢？

答：使用链表。

### 在中间插入
假设你有一份按日期排列的待办事项，现在有新增待办事项需插入其中，要在中间插入元素时，链表与数组哪个好？

使用链表时，插入元素很简单，只需修改它前面的那个元素指向的地址。而使用数组时，则必须将后面的元素都向后移。如果没有足够的空间，可能还得将整个数组复制到其他地方！因此，当需要在中间插入元素时，链表是更好的选择。

### 删除
链表也是更好的选择，因为只需修改前一个元素指向的地址即可。而使用数组时，删除元素后，必须将后面的元素都向前移。

|操作|数组|链表|
|-|-|-|
|读取|O(1)|O(n)|
|插入|O(n)|O(1)|
|删除|O(n)|O(1)|
>O(n)=线性时间
>O(1)=常量时间
>

需要指出的是，仅当能够立即访问要删除的元素时，删除操作的运行时间才为O(1)。通常我们都记录了链表的第一个元素和最后一个元素，因此删除这些元素时运行时间为O(1)。

本书经常说数组的读取速度更快，这是因为它们支持随机访问。很多情况都要求能够随机访问，因此数组用得很多。链表只能顺序访问。

### 练习
2.2 假设你要为饭店创建一个接受顾客点菜单的应用程序。这个应用程序存储一系列点菜单。服务员添加点菜单，而厨师取出点菜单并制作菜肴。这是一个点菜单队列：服务员在队尾添加点菜单，厨师取出队列开头的点菜单并制作菜肴。你使用数组还是链表来实现这个队列呢？

回答： 链表

2.3 假设Facebook记录一系列用户名，每当有用户试图登录Facebook时，都查找其用户名，如果找到就允许用户登录。由于经常有用户登录Facebook，因此需要执行大量的用户名查找操作。假设Facebook使用二分查找算法，而这种算法要求能够随机访问——立即获取中间的用户名。考虑到这一点，应使用数组还是链表来存储用户名呢？

回答：~~数组~~ 有序数组

2.4 经常有用户在Facebook注册。假设你已决定使用数组来存储用户名，在插入方面数组有何缺点呢？具体地说，在数组中添加新用户将出现什么情况？

回答：① 为了查找方便，得按顺序插入。②每有一个新用户注册，都将挪动一次插入位置之后所有元素，且大概率要重新分配内存。③由于用户量巨大，频繁地挪动大量元素、重新分配内存地址将大大增加服务器负担。

2.5 实际上，Facebook存储用户信息时使用的既不是数组也不是链表。假设Facebook使用的是一种混合数据：链表数组。这个数组包含26个元素，每个元素都指向一个链表。例如，该数组的第一个元素指向的链表包含所有以A打头的用户名，第二个元素指向的链表包含所有以B打头的用户名，以此类推。请问，相比于数组和链表，这种混合数据结构的查找和插入速度更慢还是更快？

回答：~~这种混合数据结构的查找速度更慢。插入速度更快。~~ 查找时，其速度比数组慢，但比链表快；而插入时，其速度比数组快，但与链表相当。